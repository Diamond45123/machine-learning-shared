---
title: "Processing for Final"
format: html
editor: visual
---

```{r}
library(tidyverse)
library(ggplot2)
load("flies_data.rdata") # import the dataset
```

```{r}
# This chunk divides the coordinates into x and y separate columns
clean_data <- transdata |>  
  pivot_longer(starts_with("muscle"), names_to = "muscle", values_to = "coords") |>
  select("ID", "Species", "muscle", "coords") |> 
  mutate(muscle = gsub("muscle", "", muscle)) |>
  mutate(muscle = gsub("_layer", "", muscle))
# Remove NULL elements
clean_data <- clean_data |> filter(sapply(coords, nrow) > 0)
# Expand the coords column into individual x and y columns
clean_data <- clean_data |>
  mutate(
    x1 = map_dbl(coords, ~ .x$x[1]),
    x2 = map_dbl(coords, ~ .x$x[2]),
    x3 = map_dbl(coords, ~ .x$x[3]),
    x4 = map_dbl(coords, ~ .x$x[4]),
    y1 = map_dbl(coords, ~ .x$y[1]),
    y2 = map_dbl(coords, ~ .x$y[2]),
    y3 = map_dbl(coords, ~ .x$y[3]),
    y4 = map_dbl(coords, ~ .x$y[4])
  )

drosophila_data <- clean_data |> dplyr::filter(Species == "dmelanogaster" | Species == "dsantomea")
megaselia_data <- clean_data |> dplyr::filter(Species == "mscalaris" | Species == "mabdita")
megaselia_data_cut |> dplyr::select(-c(coords)) |> write.csv(file="lol.csv")
```

```{r}

drosophila_data <- clean_data |> dplyr::filter(Species == "dmelanogaster" | Species == "dsantomea")
megaselia_data <- clean_data |> dplyr::filter(Species == "mscalaris" | Species == "mabdita")
megaselia_data_cut |> dplyr::select(-c(coords)) |> write.csv(file="lol.csv")

# Set seed for reproducibility
set.seed(42)

# Generate 1000 fake observations
data <- data.frame(
  Species = rep("fake", 1000),
  Muscle = rep(99, 1000),
  X = runif(1000, min = 0, max = 1750),  # Random X coordinates
  Y = runif(1000, min = -100, max = 500) # Random Y coordinates
)

# Write to CSV
write.csv(data, "fake_observations.csv", row.names = FALSE)

# Display first few rows
head(data)
```
